{
  "version": "2.6.0-rc3",
  "description": "Graphical frontend for v2ray",
  "homepage": "https://github.com/Qv2ray/Qv2ray",
  "license": "GPL-3.0-or-later",
  "depends": "v2ray",
  "suggest": {
    "vcredist": "extras/vcredist2019"
  },
  "architecture": {
    "64bit": {
      "url": "https://github.com/Qv2ray/Qv2ray/releases/download/v2.6.0-rc3/Qv2ray.v2.6.0-rc3.Windows-x64.7z",
      "hash": "bdce9736c6ba722a77d1d0c017f5e47c01e89603587b3ae6d33eca14dc06996c"
    },
    "32bit": {
      "url": "https://github.com/Qv2ray/Qv2ray/releases/download/v2.6.0-rc3/Qv2ray.v2.6.0-rc3.Windows-x86.7z",
      "hash": "490a1ddbf91ab6bf68363061806859fddf90e0b5e3903ecdca1a2b3e50bda58f"
    }
  },
  "extract_dir": "deployment",
  "pre_install": [
    "if (-not (Test-Path \"$persist_dir\\config\\Qv2ray.conf\")) {",
    "    New-Item \"$dir\\config\" -ItemType Directory | Out-Null",
    "    $current = (appdir 'v2ray' $global) | Join-Path -ChildPath 'current'",
    "    @{",
    "        'config_version' = 11",
    "        'kernelConfig' = @{",
    "            'v2CorePath_win'   = \"$current\\v2ray.exe\"",
    "            'v2AssetsPath_win' = \"$current\"",
    "        }",
    "    } | ConvertTo-Json -Depth 20 | Out-File \"$dir\\config\\Qv2ray.conf\" -Encoding ascii",
    "}"
  ],
  "bin": "qv2ray.exe",
  "shortcuts": [["qv2ray.exe", "Qv2ray"]],
  "persist": "config",
  "checkver": {
    "url": "https://github.com/Qv2ray/Qv2ray/releases",
    "re": "/tree/([\\w.-]+)"
  },
  "autoupdate": {
    "architecture": {
      "64bit": {
        "url": "https://github.com/Qv2ray/Qv2ray/releases/download/v$version/Qv2ray.v$version.Windows-x64.7z"
      },
      "32bit": {
        "url": "https://github.com/Qv2ray/Qv2ray/releases/download/v$version/Qv2ray.v$version.Windows-x86.7z"
      }
    }
  }
}
