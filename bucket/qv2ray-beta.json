{
    "version": "2.6.0-rc5",
    "description": "Graphical frontend for v2ray",
    "homepage": "https://github.com/Qv2ray/Qv2ray",
    "license": "GPL-3.0-or-later",
    "depends": "v2ray",
    "suggest": {
        "vcredist": "extras/vcredist2019"
    },
    "architecture": {
        "64bit": {
            "url": "https://github.com/Qv2ray/Qv2ray/releases/download/v2.6.0-rc5/Qv2ray.v2.6.0-rc5.Windows-x64.7z",
            "hash": "88a9ca81d9c89034f76da7bf2337d0d255a883136a8da2400524b31961c99007"
        },
        "32bit": {
            "url": "https://github.com/Qv2ray/Qv2ray/releases/download/v2.6.0-rc5/Qv2ray.v2.6.0-rc5.Windows-x86.7z",
            "hash": "e3589360f7dcd6517f8bb410c0193dadea988130d41f2e9a60ed5c95c1c0e4f3"
        }
    },
    "extract_dir": "deployment",
    "pre_install": [
        "if (-not (Test-Path \"$persist_dir\\config\\Qv2ray.conf\")) {",
        "    New-Item \"$dir\\config\" -ItemType Directory | Out-Null",
        "    $current = (appdir 'v2ray' $global) | Join-Path -ChildPath 'current'",
        "    @{",
        "        'config_version' = 14",
        "        'kernelConfig' = @{",
        "            'v2CorePath_win'   = \"$current\\v2ray.exe\"",
        "            'v2AssetsPath_win' = \"$current\"",
        "        }",
        "    } | ConvertTo-Json -Depth 20 | Out-File \"$dir\\config\\Qv2ray.conf\" -Encoding ascii",
        "}"
    ],
    "bin": "qv2ray.exe",
    "shortcuts": [
        [
            "qv2ray.exe",
            "Qv2ray (beta)"
        ]
    ],
    "persist": "config",
    "checkver": {
        "url": "https://github.com/Qv2ray/Qv2ray/releases",
        "re": "/tree/v([\\w.-]+)"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/Qv2ray/Qv2ray/releases/download/v$version/Qv2ray.v$version.Windows-x64.7z"
            },
            "32bit": {
                "url": "https://github.com/Qv2ray/Qv2ray/releases/download/v$version/Qv2ray.v$version.Windows-x86.7z"
            }
        },
        "hash": {
            "url": "https://github.com/Qv2ray/Qv2ray/releases/download/v$version/sha256.list"
        }
    },
    "notes": "Qv2ray beta can only use -beta suffixed plugins."
}
